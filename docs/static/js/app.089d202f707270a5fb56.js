webpackJsonp([1],{0:function(t,i){},"0+Zt":function(t,i){},"6iDX":function(t,i){},"7fJu":function(t,i){},"9n10":function(t,i){},M6Sr:function(t,i){},NHnr:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=s("MVMM"),a=s("xB4m"),n=s.n(a),r=(s("l4ih"),{render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},staticRenderFns:[]});var o=s("vSla")({name:"App"},r,!1,function(t){s("iIhn")},null,null).exports,c=s("zO6J"),l={name:"Header",props:{cityname:String},methods:{citychange:function(){this.$emit("showcitylist",!0)}}},v={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("header",[this._v("\r\n      正在热映电影\r\n      "),i("span",{staticClass:"select",on:{click:this.citychange}},[this._v(this._s(this.cityname))])])])},staticRenderFns:[]};var u=s("vSla")(l,v,!1,function(t){s("7fJu")},"data-v-76c9d7f8",null).exports,d={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"navbar"},[i("router-link",{attrs:{to:"/movie"}},[i("i",{staticClass:"el-icon-service"}),this._v("\n      热映影片\n  ")]),this._v(" "),i("router-link",{attrs:{to:"/event"}},[i("i",{staticClass:"el-icon-star-off"}),this._v("\n      同城活动\n  ")]),this._v(" "),i("router-link",{attrs:{to:"/about"}},[i("i",{staticClass:"el-icon-share"}),this._v("\n      关于豆瓣\n  ")])],1)},staticRenderFns:[]};var m=s("vSla")({},d,!1,function(t){s("p3XI")},"data-v-a419caf4",null).exports,h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"loading"},[i("i",{staticClass:"el-icon-loading"}),this._v(" "),i("div",[this._v("拼命加载中...")])])}]};var p=s("vSla")(null,h,!1,function(t){s("6iDX")},"data-v-299e0f8c",null).exports,_=s("IG6K"),f={name:"AreaSelect",props:{list:Array,show:Boolean},data:function(){return{}},mounted:function(){this.scroll=new _.a(this.$refs.wrapper)},methods:{cityclick:function(t){this.$emit("cityarea",{id:t.target.id,show:!1,name:t.target.innerText})},toMovie:function(){this.$emit("cityarea",{show:!1})}}},g={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"container",class:t.show?"active":""},[s("div",{staticClass:"top"},[s("i",{staticClass:"el-icon-arrow-left",on:{click:t.toMovie}}),t._v("城市列表")]),t._v(" "),s("div",{ref:"wrapper",staticClass:"citylist"},[s("ul",t._l(t.list,function(i,e){return s("li",{key:i.id,attrs:{id:i.id,uid:i.uid,parent:i.parent,name:i.name},on:{click:t.cityclick}},[t._v("\n                "+t._s(i.name)+"\n            ")])}))])])},staticRenderFns:[]};var y={name:"movie",components:{loading:p,Header:u,Navbar:m,AreaSelect:s("vSla")(f,g,!1,function(t){s("a/ui")},"data-v-75bfe260",null).exports},data:function(){return{isOpen:!0,mType:"in_theaters",cityList:[],movieList:[],showcity:!1,cityarea:"108288",cityName:"北京"}},mounted:function(){this.loadCityList(),this.loadData(this.cityarea,this.mType)},methods:{loadCityList:function(){this.$http.jsonp("https://api.douban.com/v2/loc/list",{params:{count:48}}).then(function(t){this.cityList=t.body.locs})},loadData:function(t,i){this.$http.jsonp("https://api.douban.com/v2/movie/"+i,{params:{apikey:"0b2bdeda43b5688921839c8ecb20399b",city:t,start:0,count:100}}).then(function(t){var i=t.body.subjects,s=[];for(var e in i){var a="",n="",r="";i[e].directors.forEach(function(t){a+=t.name+"、"}),a=a.slice(0,-1),i[e].casts.forEach(function(t){n+=t.name+"、"}),n=n.slice(0,-1),i[e].genres.forEach(function(t){r+=t+"/"}),r=r.slice(0,-1);var o={id:i[e].id,images:i[e].images.medium,title:i[e].title,directors:a,casts:n,genres:r,rating:i[e].rating};s.push(o)}this.movieList=s,this.isOpen=!1;var c=this;setTimeout(function(){c.scroll=new _.a(c.$refs.wrapper)},1e3)})},showCitySelect:function(t){t&&(this.showcity=t)},citySelect:function(t){t.id?(this.cityarea=t.id,this.showcity=t.show,this.cityName=t.name,this.isOpen=!0,this.movieList=[],this.loadData(this.cityarea,this.mType)):this.showcity=t.show}}},C={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("Header",{attrs:{cityname:t.cityName},on:{showcitylist:t.showCitySelect}}),t._v(" "),s("div",{staticClass:"movie"},[s("div",{ref:"wrapper",staticClass:"wrapper"},[s("ul",{staticClass:"content movieList"},t._l(t.movieList,function(i){return s("li",{key:i.id},[s("router-link",{staticClass:"item",attrs:{to:{path:"/detail/"+i.id}}},[s("img",{attrs:{src:i.images,alt:"加载失败"}}),t._v(" "),s("div",{staticClass:"right"},[s("h3",{staticClass:"m-title"},[t._v(t._s(i.title))]),t._v(" "),s("div",{staticClass:"directors"},[t._v("导演："+t._s(i.directors))]),t._v(" "),s("div",{staticClass:"casts"},[t._v("主演："+t._s(i.casts))]),t._v(" "),s("div",{staticClass:"genres"},[t._v("类型："+t._s(i.genres))]),t._v(" "),s("span",[t._v("豆瓣评分："+t._s(i.rating.average))])])])],1)}))]),t._v(" "),s("loading",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],attrs:{isOpen:t.isOpen}})],1),t._v(" "),s("Navbar"),t._v(" "),s("area-select",{attrs:{list:t.cityList,show:t.showcity},on:{cityarea:t.citySelect}})],1)},staticRenderFns:[]};var w=s("vSla")(y,C,!1,function(t){s("VUHr")},"data-v-04f37dfd",null).exports,b={name:"event",components:{loading:p,Navbar:m}},$={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("div",{staticClass:"event"},[this._v("\r\n      这是一个关于同城活动的页面\r\n  ")]),this._v(" "),i("Navbar")],1)},staticRenderFns:[]};var S=s("vSla")(b,$,!1,function(t){s("Wj3a")},"data-v-6e52d5ba",null).exports,O={name:"movie",components:{loading:p,Navbar:m}},k={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("div",{staticClass:"about"},[this._v("\r\n      查询影院热映电影，免费在观看的新片。更有丰富电影专题，电影分类，提供最全面影片信息，权威电影评分，忠实影迷的电影评论。\r\n  ")]),this._v(" "),i("Navbar")],1)},staticRenderFns:[]};var E=s("vSla")(O,k,!1,function(t){s("0+Zt")},"data-v-7ee80e47",null).exports,x={name:"detail",components:{loading:p},data:function(){return{isOpen:!0,id:"",movie:{images:{large:"",medium:"",small:""},rating:{average:""}}}},mounted:function(){this.id=this.$route.params.id,this.getDetail(this.id)},methods:{getDetail:function(t){this.$http.jsonp("https://douban.uieee.com/v2/movie/subject/"+t).then(function(t){var i=t.data,s="";for(var e in i.genres)s+=i.genres[e]+"/";s=s.substring(0,s.length-1);var a="国家：";for(var n in i.countries)a+=i.countries[n]+"/";a=a.substring(0,a.length-"/".length);var r={id:i.id,title:i.title,images:i.images,collectCount:i.collect_count,commentsCount:i.comments_count,wishCount:i.wish_count,reviewsCount:i.reviews_count,popularReviews:i.popular_reviews,popularComments:i.popular_comments,countries:a,doCount:i.do_count,genres:s,originalTitle:"原名："+i.original_title,rating:i.rating,ratingsCount:i.ratings_count+"人",subtype:i.subtype,summary:i.summary,shareUrl:i.share_url,year:i.year,tags:i.tags,writers:i.writers};this.movie=r,this.isOpen=!1})}}},N={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",[s("loading",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],attrs:{isOpen:t.isOpen}}),t._v(" "),s("div",{staticClass:"container"},[s("div",{staticClass:"top"},[s("i",{staticClass:"el-icon-arrow-left",on:{click:function(i){t.$router.back(-1)}}}),t._v("\r\n        "+t._s(t.movie.title)+"\r\n        ")]),t._v(" "),s("div",{staticClass:"session-poster session-poster-spacing"},[s("img",{staticClass:"poster",attrs:{src:t.movie.images.large,alt:""}})]),t._v(" "),s("div",{staticClass:"summary-session"},[s("div",{staticClass:"movie-summary"},[s("span",{staticClass:"name"},[t._v(t._s(t.movie.title))]),t._v(" "),s("span",{staticClass:"subtype"},[t._v(t._s(t.movie.year)+"/"+t._s(t.movie.genres))]),t._v(" "),s("span",{staticClass:"origin-name"},[t._v(t._s(t.movie.originalTitle))]),t._v(" "),s("span",{staticClass:"countries"},[t._v(t._s(t.movie.countries))])]),t._v(" "),s("div",{staticClass:"movie-rating"},[s("span",{staticClass:"average"},[t._v(t._s(t.movie.rating.average))]),t._v(" "),s("span",{staticClass:"rating"}),t._v(" "),s("span",{staticClass:"ratings_count"},[t._v(t._s(t.movie.ratingsCount))])])]),t._v(" "),s("div",{staticClass:"desc-session"},[s("span",{staticClass:"title"},[t._v("简介")]),t._v(" "),s("span",{staticClass:"desc-wrapper"},[t._v(t._s(t.movie.summary))])]),t._v(" "),s("div",{staticClass:"director-casts-session"},[s("span",{staticClass:"title"},[t._v("影人")]),t._v(" "),t._l(t.movie.writers,function(i,e){return s("div",[s("div",{staticClass:"star"},[s("img",{attrs:{src:i.avatars.medium}}),t._v(" "),s("span",{staticClass:"name"},[t._v(t._s(i.name))])])])})],2)])],1)},staticRenderFns:[]};var L=s("vSla")(x,N,!1,function(t){s("e5ba")},"data-v-128fad4d",null).exports;e.default.use(c.a);var R=new c.a({routes:[{path:"/",redirect:"/movie"},{path:"/movie",name:"Movie",component:w},{path:"/event",name:"Event",component:S},{path:"/about",name:"About",component:E},{path:"/detail/:id",name:"Detail",component:L}]}),D=s("OolZ"),F=(s("9n10"),s("M6Sr"),s("iDdd")),M=s.n(F);e.default.use(D.a),e.default.use(n.a),M.a.attach(document.body),e.default.config.productionTip=!1,new e.default({el:"#app",router:R,components:{App:o},template:"<App/>"})},VUHr:function(t,i){},Wj3a:function(t,i){},"a/ui":function(t,i){},e5ba:function(t,i){},iIhn:function(t,i){},l4ih:function(t,i){},p3XI:function(t,i){}},["NHnr"]);
//# sourceMappingURL=app.089d202f707270a5fb56.js.map