webpackJsonp([1],{0:function(t,s){},"0+Zt":function(t,s){},"6iDX":function(t,s){},"87h7":function(t,s){},"9n10":function(t,s){},M6Sr:function(t,s){},NHnr:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("MVMM"),a=i("xB4m"),n=i.n(a),r=(i("l4ih"),{render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]});var o=i("vSla")({name:"App"},r,!1,function(t){i("iIhn")},null,null).exports,c=i("zO6J"),l={name:"Header",props:{cityname:String},methods:{citychange:function(){this.$emit("showcitylist",!0)}}},v={render:function(){var t=this.$createElement,s=this._self._c||t;return s("el-alert",{attrs:{title:"正在热映电影",type:"error"}},[s("span",{staticClass:"select",on:{click:this.citychange}},[this._v(this._s(this.cityname))])])},staticRenderFns:[]};var u=i("vSla")(l,v,!1,function(t){i("87h7")},"data-v-b068e79a",null).exports,m={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"navbar"},[s("router-link",{attrs:{to:"/movie"}},[s("i",{staticClass:"el-icon-service"}),this._v("\n      热映影片\n  ")]),this._v(" "),s("router-link",{attrs:{to:"/event"}},[s("i",{staticClass:"el-icon-star-off"}),this._v("\n      同城活动\n  ")]),this._v(" "),s("router-link",{attrs:{to:"/about"}},[s("i",{staticClass:"el-icon-share"}),this._v("\n      关于豆瓣\n  ")])],1)},staticRenderFns:[]};var d=i("vSla")({},m,!1,function(t){i("p3XI")},"data-v-a419caf4",null).exports,p={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"loading"},[s("i",{staticClass:"el-icon-loading"}),this._v(" "),s("div",[this._v("拼命加载中...")])])}]};var h=i("vSla")(null,p,!1,function(t){i("6iDX")},"data-v-299e0f8c",null).exports,_={name:"AreaSelect",props:{list:Array,show:Boolean},data:function(){return{}},methods:{cityclick:function(t){this.$emit("cityarea",{id:t.target.id,show:!1,name:t.target.innerText})},toMovie:function(){this.$emit("cityarea",{show:!1})}}},f={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"container",class:t.show?"active":""},[i("div",{staticClass:"top"},[i("i",{staticClass:"el-icon-arrow-left",on:{click:t.toMovie}}),t._v("城市列表")]),t._v(" "),i("ul",{staticClass:"citylist"},t._l(t.list,function(s,e){return i("li",{key:s.id,attrs:{id:s.id,uid:s.uid,parent:s.parent,name:s.name},on:{click:t.cityclick}},[t._v("\n            "+t._s(s.name)+"\n        ")])}))])},staticRenderFns:[]};var g=i("vSla")(_,f,!1,function(t){i("pgzp")},"data-v-cf736192",null).exports,y=i("IG6K"),C={name:"movie",components:{loading:h,Header:u,Navbar:d,AreaSelect:g},data:function(){return{isOpen:!0,mType:"in_theaters",cityList:[],movieList:[],showcity:!1,cityarea:"108288",cityName:"北京"}},mounted:function(){this.loadCityList(),this.loadData(this.cityarea,this.mType)},methods:{loadCityList:function(){this.$http.jsonp("https://api.douban.com/v2/loc/list",{params:{count:48}}).then(function(t){this.cityList=t.body.locs})},loadData:function(t,s){this.$http.jsonp("https://api.douban.com/v2/movie/"+s,{params:{apikey:"0b2bdeda43b5688921839c8ecb20399b",city:t,start:0,count:100}}).then(function(t){this.movieList=t.body.subjects,this.isOpen=!1;var s=this;setTimeout(function(){s.scroll=new y.a(s.$refs.wrapper)},1e3)})},showCitySelect:function(t){t&&(this.showcity=t)},citySelect:function(t){t.id?(this.cityarea=t.id,this.showcity=t.show,this.cityName=t.name,this.isOpen=!0,this.movieList=[],this.loadData(this.cityarea,this.mType)):this.showcity=t.show}}},w={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("Header",{attrs:{cityname:t.cityName},on:{showcitylist:t.showCitySelect}}),t._v(" "),i("div",{staticClass:"movie"},[i("div",{ref:"wrapper",staticClass:"wrapper"},[i("ul",{staticClass:"content movieList"},t._l(t.movieList,function(s){return i("li",[i("router-link",{staticClass:"item",attrs:{to:{path:"/detail/"+s.id}}},[i("img",{attrs:{src:s.images.medium,alt:"加载失败"}}),t._v(" "),i("div",{staticClass:"right"},[i("h3",{staticClass:"m-title"},[t._v(t._s(s.title))]),t._v(" "),i("div",{staticClass:"directors"},[t._v("导演："+t._s(s.directors[0].name))]),t._v(" "),i("div",{staticClass:"casts"},[t._v("主演："),t._l(s.casts,function(s){return i("span",[t._v(t._s(s.name)),i("i",[t._v("、")])])})],2),t._v(" "),i("div",{staticClass:"genres"},[t._v("类型："),t._l(s.genres,function(s){return i("span",[t._v(t._s(s)),i("i",[t._v("/")])])})],2),t._v(" "),i("span",[t._v("豆瓣评分："+t._s(s.rating.average))])])])],1)}))]),t._v(" "),i("loading",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],attrs:{isOpen:t.isOpen}})],1),t._v(" "),i("Navbar"),t._v(" "),i("area-select",{attrs:{list:t.cityList,show:t.showcity},on:{cityarea:t.citySelect}})],1)},staticRenderFns:[]};var b=i("vSla")(C,w,!1,function(t){i("jyED")},"data-v-1120ba5f",null).exports,$={name:"event",components:{loading:h,Navbar:d}},S={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("div",{staticClass:"event"},[this._v("\r\n      这是一个关于同城活动的页面\r\n  ")]),this._v(" "),s("Navbar")],1)},staticRenderFns:[]};var O=i("vSla")($,S,!1,function(t){i("Wj3a")},"data-v-6e52d5ba",null).exports,k={name:"movie",components:{loading:h,Navbar:d}},x={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("div",{staticClass:"about"},[this._v("\r\n      查询影院热映电影，免费在观看的新片。更有丰富电影专题，电影分类，提供最全面影片信息，权威电影评分，忠实影迷的电影评论。\r\n  ")]),this._v(" "),s("Navbar")],1)},staticRenderFns:[]};var E=i("vSla")(k,x,!1,function(t){i("0+Zt")},"data-v-7ee80e47",null).exports,N={name:"detail",components:{loading:h},data:function(){return{isOpen:!0,id:"",movie:{images:{large:"",medium:"",small:""},rating:{average:""}}}},mounted:function(){this.id=this.$route.params.id,this.getDetail(this.id)},methods:{getDetail:function(t){this.$http.jsonp("https://douban.uieee.com/v2/movie/subject/"+t).then(function(t){var s=t.data,i="";for(var e in s.genres)i+=s.genres[e]+"/";i=i.substring(0,i.length-1);var a="国家：";for(var n in s.countries)a+=s.countries[n]+"/";a=a.substring(0,a.length-"/".length);var r={id:s.id,title:s.title,images:s.images,collectCount:s.collect_count,commentsCount:s.comments_count,wishCount:s.wish_count,reviewsCount:s.reviews_count,popularReviews:s.popular_reviews,popularComments:s.popular_comments,countries:a,doCount:s.do_count,genres:i,originalTitle:"原名："+s.original_title,rating:s.rating,ratingsCount:s.ratings_count+"人",subtype:s.subtype,summary:s.summary,shareUrl:s.share_url,year:s.year,tags:s.tags,writers:s.writers};this.movie=r,this.isOpen=!1})}}},D={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("loading",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],attrs:{isOpen:t.isOpen}}),t._v(" "),i("div",{staticClass:"container"},[i("div",{staticClass:"top"},[i("i",{staticClass:"el-icon-arrow-left",on:{click:function(s){t.$router.back(-1)}}}),t._v("\r\n        "+t._s(t.movie.title)+"\r\n        ")]),t._v(" "),i("div",{staticClass:"session-poster session-poster-spacing"},[i("img",{staticClass:"poster",attrs:{src:t.movie.images.large,alt:""}})]),t._v(" "),i("div",{staticClass:"summary-session"},[i("div",{staticClass:"movie-summary"},[i("span",{staticClass:"name"},[t._v(t._s(t.movie.title))]),t._v(" "),i("span",{staticClass:"subtype"},[t._v(t._s(t.movie.year)+"/"+t._s(t.movie.genres))]),t._v(" "),i("span",{staticClass:"origin-name"},[t._v(t._s(t.movie.originalTitle))]),t._v(" "),i("span",{staticClass:"countries"},[t._v(t._s(t.movie.countries))])]),t._v(" "),i("div",{staticClass:"movie-rating"},[i("span",{staticClass:"average"},[t._v(t._s(t.movie.rating.average))]),t._v(" "),i("span",{staticClass:"rating"}),t._v(" "),i("span",{staticClass:"ratings_count"},[t._v(t._s(t.movie.ratingsCount))])])]),t._v(" "),i("div",{staticClass:"desc-session"},[i("span",{staticClass:"title"},[t._v("简介")]),t._v(" "),i("span",{staticClass:"desc-wrapper"},[t._v(t._s(t.movie.summary))])]),t._v(" "),i("div",{staticClass:"director-casts-session"},[i("span",{staticClass:"title"},[t._v("影人")]),t._v(" "),t._l(t.movie.writers,function(s,e){return i("div",[i("div",{staticClass:"star"},[i("img",{attrs:{src:s.avatars.medium}}),t._v(" "),i("span",{staticClass:"name"},[t._v(t._s(s.name))])])])})],2)])],1)},staticRenderFns:[]};var j=i("vSla")(N,D,!1,function(t){i("e5ba")},"data-v-128fad4d",null).exports;e.default.use(c.a);var L=new c.a({routes:[{path:"/",redirect:"/movie"},{path:"/movie",name:"Movie",component:b},{path:"/event",name:"Event",component:O},{path:"/about",name:"About",component:E},{path:"/detail/:id",name:"Detail",component:j}]}),R=i("OolZ"),F=(i("9n10"),i("M6Sr"),i("iDdd")),M=i.n(F);e.default.use(R.a),e.default.use(n.a),M.a.attach(document.body),e.default.config.productionTip=!1,new e.default({el:"#app",router:L,components:{App:o},template:"<App/>"})},Wj3a:function(t,s){},e5ba:function(t,s){},iIhn:function(t,s){},jyED:function(t,s){},l4ih:function(t,s){},p3XI:function(t,s){},pgzp:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.44939a713db8ee97f315.js.map