webpackJsonp([1],{0:function(t,s){},"0+Zt":function(t,s){},"6iDX":function(t,s){},"9n10":function(t,s){},KLsG:function(t,s){},Lyo3:function(t,s){},M6Sr:function(t,s){},NHnr:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("MVMM"),a=i("xB4m"),n=i.n(a),r=(i("l4ih"),{render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},staticRenderFns:[]});var o=i("vSla")({name:"App"},r,!1,function(t){i("iIhn")},null,null).exports,c=i("zO6J"),l={name:"Header",props:{cityname:String},methods:{citychange:function(){this.$emit("showcitylist",!0)}}},v={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("header",[s("span",{staticClass:"select",on:{click:this.citychange}},[this._v(this._s(this.cityname))]),this._v("\n    正在热映电影\n    "),this._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"search"},[this._v("\n      搜索\n      "),s("i",{staticClass:"el-icon-search"})])}]};var u=i("vSla")(l,v,!1,function(t){i("QpkG")},"data-v-6c3eb75e",null).exports,d={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"navbar"},[s("router-link",{attrs:{to:"/movie"}},[s("i",{staticClass:"el-icon-service"}),this._v("\n      正在热映\n  ")]),this._v(" "),s("router-link",{attrs:{to:"/event"}},[s("i",{staticClass:"el-icon-star-off"}),this._v("\n      即将上映\n  ")]),this._v(" "),s("router-link",{attrs:{to:"/about"}},[s("i",{staticClass:"el-icon-share"}),this._v("\n      Top250\n  ")])],1)},staticRenderFns:[]};var m=i("vSla")({},d,!1,function(t){i("KLsG")},"data-v-5b7cce1b",null).exports,h={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"loading"},[s("i",{staticClass:"el-icon-loading"}),this._v(" "),s("div",[this._v("拼命加载中...")])])}]};var p=i("vSla")(null,h,!1,function(t){i("6iDX")},"data-v-299e0f8c",null).exports,_=i("IG6K"),f={name:"AreaSelect",props:{list:Array,show:Boolean},data:function(){return{}},mounted:function(){this.scroll=new _.a(this.$refs.wrapper)},methods:{cityclick:function(t){this.$emit("cityarea",{id:t.target.id,show:!1,name:t.target.innerText})},toMovie:function(){this.$emit("cityarea",{show:!1})}}},g={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"container",class:t.show?"active":""},[i("div",{staticClass:"top"},[i("i",{staticClass:"el-icon-arrow-left",on:{click:t.toMovie}}),t._v("城市列表")]),t._v(" "),i("div",{ref:"wrapper",staticClass:"citylist"},[i("ul",t._l(t.list,function(s,e){return i("li",{key:s.id,attrs:{id:s.id,uid:s.uid,parent:s.parent,name:s.name},on:{click:t.cityclick}},[t._v("\n                "+t._s(s.name)+"\n            ")])}))])])},staticRenderFns:[]};var y=i("vSla")(f,g,!1,function(t){i("m8SF")},"data-v-64159cf3",null).exports,C=(i("aozt"),{name:"movie",components:{loading:p,Header:u,Navbar:m,AreaSelect:y},data:function(){return{isOpen:!0,mType:"in_theaters",cityList:[],movieList:[],showcity:!1,cityarea:"108288",cityName:"北京"}},mounted:function(){this.loadCityList(),this.loadData(this.cityarea,this.mType)},methods:{loadCityList:function(){this.$http.jsonp("https://api.douban.com/v2/loc/list",{params:{count:48}}).then(function(t){this.cityList=t.body.locs})},loadData:function(t,s){this.$http.jsonp("https://api.douban.com/v2/movie/"+s,{params:{apikey:"0b2bdeda43b5688921839c8ecb20399b",city:t,start:0,count:10}}).then(this.handleMovieInfoSucc)},handleMovieInfoSucc:function(t){var s=t.body.subjects,i=[];for(var e in s){var a="",n="",r="";s[e].directors.forEach(function(t){a+=t.name+"、"}),a=a.slice(0,-1),s[e].casts.forEach(function(t){n+=t.name+"、"}),n=n.slice(0,-1),s[e].genres.forEach(function(t){r+=t+" / "}),r=r.slice(0,-2);var o={id:s[e].id,images:s[e].images.medium,title:s[e].title,directors:a,casts:n,genres:r,rating:s[e].rating};i.push(o)}this.movieList=i,this.isOpen=!1;var c=this;setTimeout(function(){c.scroll=new _.a(c.$refs.wrapper)},1500)},showCitySelect:function(t){t&&(this.showcity=t)},citySelect:function(t){t.id?(this.cityarea=t.id,this.showcity=t.show,this.cityName=t.name,this.isOpen=!0,this.movieList=[],this.loadData(this.cityarea,this.mType)):this.showcity=t.show}}}),w={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("Header",{attrs:{cityname:t.cityName},on:{showcitylist:t.showCitySelect}}),t._v(" "),i("div",{staticClass:"movie"},[i("div",{ref:"wrapper",staticClass:"wrapper"},[i("ul",{staticClass:"content movieList"},t._l(t.movieList,function(s){return i("li",{key:s.id},[i("router-link",{staticClass:"item",attrs:{to:{path:"/detail/"+s.id}}},[i("img",{attrs:{src:s.images,alt:"加载失败"}}),t._v(" "),i("div",{staticClass:"right"},[i("h3",{staticClass:"m-title"},[t._v(t._s(s.title))]),t._v(" "),i("div",{staticClass:"directors"},[t._v("导演："+t._s(s.directors))]),t._v(" "),i("div",{staticClass:"casts"},[t._v("主演："+t._s(s.casts))]),t._v(" "),i("div",{staticClass:"genres"},[t._v("类型："+t._s(s.genres))]),t._v(" "),i("span",[t._v("豆瓣评分："+t._s(s.rating.average))])])])],1)}))]),t._v(" "),i("loading",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],attrs:{isOpen:t.isOpen}})],1),t._v(" "),i("Navbar"),t._v(" "),i("area-select",{attrs:{list:t.cityList,show:t.showcity},on:{cityarea:t.citySelect}})],1)},staticRenderFns:[]};var b=i("vSla")(C,w,!1,function(t){i("Lyo3")},"data-v-40d9f25a",null).exports,S={name:"event",components:{loading:p,Navbar:m}},$={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("div",{staticClass:"event"},[this._v("\r\n      这是一个关于同城活动的页面\r\n  ")]),this._v(" "),s("Navbar")],1)},staticRenderFns:[]};var k=i("vSla")(S,$,!1,function(t){i("Wj3a")},"data-v-6e52d5ba",null).exports,O={name:"movie",components:{loading:p,Navbar:m}},E={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("div",{staticClass:"about"},[this._v("\r\n      查询影院热映电影，免费在观看的新片。更有丰富电影专题，电影分类，提供最全面影片信息，权威电影评分，忠实影迷的电影评论。\r\n  ")]),this._v(" "),s("Navbar")],1)},staticRenderFns:[]};var L=i("vSla")(O,E,!1,function(t){i("0+Zt")},"data-v-7ee80e47",null).exports,x={name:"detail",components:{loading:p},data:function(){return{isOpen:!0,id:"",movie:{images:{large:"",medium:"",small:""},rating:{average:""}}}},mounted:function(){this.id=this.$route.params.id,this.getDetail(this.id)},methods:{getDetail:function(t){this.$http.jsonp("https://douban.uieee.com/v2/movie/subject/"+t).then(function(t){var s=t.data,i="";for(var e in s.genres)i+=s.genres[e]+"/";i=i.substring(0,i.length-1);var a="国家：";for(var n in s.countries)a+=s.countries[n]+"/";a=a.substring(0,a.length-"/".length);var r={id:s.id,title:s.title,images:s.images,collectCount:s.collect_count,commentsCount:s.comments_count,wishCount:s.wish_count,reviewsCount:s.reviews_count,popularReviews:s.popular_reviews,popularComments:s.popular_comments,countries:a,doCount:s.do_count,genres:i,originalTitle:"原名："+s.original_title,rating:s.rating,ratingsCount:s.ratings_count+"人",subtype:s.subtype,summary:s.summary,shareUrl:s.share_url,year:s.year,tags:s.tags,writers:s.writers};this.movie=r,this.isOpen=!1})}}},N={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("loading",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}],attrs:{isOpen:t.isOpen}}),t._v(" "),i("div",{staticClass:"container"},[i("div",{staticClass:"top"},[i("i",{staticClass:"el-icon-arrow-left",on:{click:function(s){t.$router.back(-1)}}}),t._v("\r\n        "+t._s(t.movie.title)+"\r\n        ")]),t._v(" "),i("div",{staticClass:"session-poster session-poster-spacing"},[i("img",{staticClass:"poster",attrs:{src:t.movie.images.large,alt:""}})]),t._v(" "),i("div",{staticClass:"summary-session"},[i("div",{staticClass:"movie-summary"},[i("span",{staticClass:"name"},[t._v(t._s(t.movie.title))]),t._v(" "),i("span",{staticClass:"subtype"},[t._v(t._s(t.movie.year)+"/"+t._s(t.movie.genres))]),t._v(" "),i("span",{staticClass:"origin-name"},[t._v(t._s(t.movie.originalTitle))]),t._v(" "),i("span",{staticClass:"countries"},[t._v(t._s(t.movie.countries))])]),t._v(" "),i("div",{staticClass:"movie-rating"},[i("span",{staticClass:"average"},[t._v(t._s(t.movie.rating.average))]),t._v(" "),i("span",{staticClass:"rating"}),t._v(" "),i("span",{staticClass:"ratings_count"},[t._v(t._s(t.movie.ratingsCount))])])]),t._v(" "),i("div",{staticClass:"desc-session"},[i("span",{staticClass:"title"},[t._v("简介")]),t._v(" "),i("span",{staticClass:"desc-wrapper"},[t._v(t._s(t.movie.summary))])]),t._v(" "),i("div",{staticClass:"director-casts-session"},[i("span",{staticClass:"title"},[t._v("影人")]),t._v(" "),t._l(t.movie.writers,function(s,e){return i("div",[i("div",{staticClass:"star"},[i("img",{attrs:{src:s.avatars.medium}}),t._v(" "),i("span",{staticClass:"name"},[t._v(t._s(s.name))])])])})],2)])],1)},staticRenderFns:[]};var F=i("vSla")(x,N,!1,function(t){i("e5ba")},"data-v-128fad4d",null).exports;e.default.use(c.a);var M=new c.a({routes:[{path:"/",redirect:"/movie"},{path:"/movie",name:"Movie",component:b},{path:"/event",name:"Event",component:k},{path:"/about",name:"About",component:L},{path:"/detail/:id",name:"Detail",component:F}]}),R=i("OolZ"),D=(i("9n10"),i("M6Sr"),i("iDdd")),T=i.n(D);e.default.use(R.a),e.default.use(n.a),T.a.attach(document.body),e.default.config.productionTip=!1,new e.default({el:"#app",router:M,components:{App:o},template:"<App/>"})},QpkG:function(t,s){},Wj3a:function(t,s){},e5ba:function(t,s){},iIhn:function(t,s){},l4ih:function(t,s){},m8SF:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.cbac4a0f10a696a0d8ef.js.map